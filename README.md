## 部署方法

1. Fork 仓库。（**可选**）  

    如果你有自己的需求，也可以自己对代码内容进行修改，这里的代码并不复杂，直接问各家 LLM 应该都能解决你的问题。  

2. 申请 Bot 账户。  
    根据目标平台找 `BotFather` 注册 Bot 账户，一个 `/newbot` 然后跟随引导。  
    完成注册之后会给出通过 HTTP API 访问 Bot 的 token，注意这里的 token 需要妥善存储，避免泄漏。否则谁拿到这个 token 都可以控制 Bot 了。  
  
3. 部署仓库。  
     1. 登入 Cloudflare，在左边侧栏找到「计算 (Workers)」并点击。  
     2. 点击「创建」按钮，在 "Workers" Tab 下选择「导入存储库」。  
     3. 点击后关联自己的 Github 账户，选择自己的仓库或者「通过 Git URL 克隆公共存储库」。  

        如果你执行了第二步，则在这里选择自己 Fork 的仓库，否则可以直接输入其他仓库地址（比如上面给出来的我的仓库）来进行克隆和部署。  
        另外这里我没有测试后者，按道理来说 Cloudflare 可能会自动帮你 Fork 一个。  

      4. 配置和部署。  
        在这里选择之后理论上不需要进行其他配置了，直接「保存并部署」就好。  

4. 设置环境变量。  
    在部署成功之后，还有一个工作，那就是设置环境变量，前面获得的 Bot token 就派上用场了。  
    在具体项目的设置页，在「变量和机密」下添加两个「密钥」类型的变量：`ENV_BOT_TOKEN` 和 `ENV_BOT_SECRET`。  

    其中 `ENV_BOT_TOKEN` 就是你前面获取的 token，而 `ENV_BOT_SECRET` 可以随意设置，是一串字符就 OK。  

5. 连接 Bot。  
  现在我们在 Cloudflare 端的操作已经完成了，只需要让我们设置的 Worker 能够正常和 Bot 连接并交互就可以了。  
  项目部署完成后，你会看到一个 `https://项目名称.用户名.workers.dev` 格式的链接，在这个链接后面接上 `/registerWebhook`，比如 `https://my-worker-123.username.workers.dev/registerWebhook`。  
  如果你的部署一切正常，会看到页面上有个 `Ok`，如果是 `401` 则可能 token 有误。  
6. 测试。  
  现在你给你的 Bot 发送一个链接，它应该能按照预期给你一个处理后的链接了。  